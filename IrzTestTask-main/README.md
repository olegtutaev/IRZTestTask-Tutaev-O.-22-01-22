[![N|Solid](https://www.irz.ru/uploads/irznew/logo.png)](https://www.irz.ru/)

# Тестовое задание 
Компании ИРЗ, позиция .net разработчик.


## Суть задачи: 

Данное тестовое задание это почти что калька с реальной задачи на проекте. Разработать и реализовать интеграционный тест, с помощью которого во время рефакторинга можно определить корректность работы сервиса.


## Описание проекта:

Существует веб-сервис IncomingService. На него откуда-то из вне прилетают XML файлы. Они должны соответсовать некоторым сущностям в базе данных.
Сервис их валидирует, парсит и определяет тип объекта и как правильно его обработать дальше.
Если все хорошо - обновляет данные в БД. Вся это логика убрана и вместо нее стоит заглушка, которой достаточно для написания системы интеграционного тестирования. С заглушкой можно познакомится в IncomingController.cs. Может показатся что сервис большой и сложный но на самом деле почти весь код сгенерился автоматический, тебе интересен только контроллер-заглушка.

Так же в решении есть консольный проект, который генерирует файлы XML для тестирования. 
Он позволяет получить набор файлов со структурой каталогов, как в реальном проекте, но с фэйковым содержанием
(В реальном проекте он берет данные из БД, в которой хранится история входящих XML файлов).


## Действия разработчика:
Во время рефакторинга веб-сревиса IncomingService, программист запускает CreateFileForIncomingService.exe.
В результате выполнения CreateFileForIncomingService.exe получает свежий набор файлов со структурой и данными актуальными на текуший день (в нашем случае набор файлов-заглушек).
Имена файлов которые формирует CreateFileForIncomingService.exe изменчивы. В реальности они могут поменятся на следующий день после запуска. Имена директорий более стабильны, могут добавиться новые, но старые исчезать не должны.
При работе программист периодический запускает интеграционный тест, что бы проверить, что проект не только компилируется, но и правильно работает. Этот пока не существующий интегарционный тест и предстоит реализовать.

В данной задаче нашим пользователем является программист. Алгоритм его работы примерно такой: 
0) Берет задачу на доработку сервиса;
1) Получает тестовые данные для интеграционного тестирования(CreateFileForIncomingService.exe);
2) Проверяет интеграционным тестом работоспособность сервиса(Его нужно сделать);
3) Дорабатывает проект;
4) Проверяет интеграционным тестом работоспособность сервиса(Его нужно сделать);
5) Если есть ошибки - исправляет и тестирует снова, пока не заработает.


## Описание основной задачи:

Разработать интеграционный тест, который должен провести проверку всех файлов, которые формируются в результате работы CreateFileForIncomingService.exe, и донести до програмиста информацию о результате проверки так, что бы ему было понятно, что пошло не так.

 - Допустимо рефакторить код в проекте CreateFileForIncomingService, т.к это часть тестирующей системы которой вы занимаетесь, но не обязательно.
 - Интеграционный тест может быть проектом любого типа, написанный на C#, в том числе консоль.
 - Можно не боятся посторонних эффектов, например лишних или дублированых записей в БД. Программист через конфиги подключается к своей локальной версии БД.
 - Можно запускать сервис каждый раз при запуске интеграционного теста.


## Описание бонусной задачи:
Зачастую программист занимающийся доработкой будет работать не со всеми сущностями, а лишь с частью. Было бы удобно, если бы он мог сузить спектр файлов, которые предстоит проверить. Будет плюсом, если получится реализовать так, что бы разработчик мог удобно расширять и сужать количество объектов для проверки во время интеграциооного тестирования. Но это совсем не обязательно.


## Дополнительная информация:
_PS: В этой задаче ключевое это сделать так, что бы этим было удобно пользоваться, ну и про ясность кода то же забывать не стоить ;) Успехов тебе!_

_WARNING: CreateFileForIncomingService.exe при старте удалят все содержимое из пути указанного в конфигурации, по умолчанию это должна быть директория IrzTestFile расположенная там же где и IrzTestTask.sln. 
Будьте внимательны, если вы измените, путь в конфигурации на какую-то директорию в своей системе, то можете потерять все ее содержимое._